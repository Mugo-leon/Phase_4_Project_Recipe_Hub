{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MyRecipes(_ref){let{username}=_ref;const[recipes,setRecipes]=useState([]);useEffect(()=>{const fetchMyRecipes=async()=>{try{const response=await fetch(`/get_user_recipes/${username}`,{credentials:'include'// Ensure credentials are included\n});const data=await response.json();if(response.ok){setRecipes(data.recipes);}else{console.error('Error fetching user recipes:',data.message);}}catch(error){console.error('Error:',error);}};fetchMyRecipes();},[username]);const handleDeleteRecipe=async recipeId=>{try{const response=await fetch(`/delete_recipe/${recipeId}`,{method:'DELETE',credentials:'include'// Ensure credentials are included\n});const data=await response.json();if(response.ok){setRecipes(recipes.filter(recipe=>recipe.id!==recipeId));console.log('Recipe deleted successfully');}else{console.error('Error deleting recipe:',data.message);}}catch(error){console.error('Error:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-rose-200 py-8 px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"My Recipes\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:recipes.map(recipe=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-6 bg-rose-200 shadow-md rounded-md border-rose-950 b_glow\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-2\",children:[\"Recipe Name: \",recipe.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-950 mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"DESCRIPTION:\"}),\" \",recipe.description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:`/edit_recipe/${username}/${recipe.id}`,className:\"bg-rose-950 text-white py-2 px-4 rounded hover:bg-rose-900 transition duration-200\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteRecipe(recipe.id),className:\"bg-rose-950 text-white py-2 px-4 rounded hover:bg-rose-900 transition duration-200\",children:\"Delete Recipe\"})]})]},recipe.id))})]});}export default MyRecipes;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","MyRecipes","_ref","username","recipes","setRecipes","fetchMyRecipes","response","fetch","credentials","data","json","ok","console","error","message","handleDeleteRecipe","recipeId","method","filter","recipe","id","log","className","children","map","name","description","to","onClick"],"sources":["/home/janewmwaura/newrecipe/Phase_4_Project_Recipe_Hub/client/src/MyRecipes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction MyRecipes({ username }) {\n    const [recipes, setRecipes] = useState([]);\n\n    useEffect(() => {\n        const fetchMyRecipes = async () => {\n            try {\n                const response = await fetch(`/get_user_recipes/${username}`, {\n                    credentials: 'include', // Ensure credentials are included\n                });\n                const data = await response.json();\n                if (response.ok) {\n                    setRecipes(data.recipes);\n                } else {\n                    console.error('Error fetching user recipes:', data.message);\n                }\n            } catch (error) {\n                console.error('Error:', error);\n            }\n        };\n\n        fetchMyRecipes();\n    }, [username]);\n\n    const handleDeleteRecipe = async (recipeId) => {\n        try {\n            const response = await fetch(`/delete_recipe/${recipeId}`, {\n                method: 'DELETE',\n                credentials: 'include', // Ensure credentials are included\n            });\n            const data = await response.json();\n            if (response.ok) {\n                setRecipes(recipes.filter(recipe => recipe.id !== recipeId));\n                console.log('Recipe deleted successfully');\n            } else {\n                console.error('Error deleting recipe:', data.message);\n            }\n        } catch (error) {\n            console.error('Error:', error);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-rose-200 py-8 px-4\">\n            <h2 className=\"text-3xl font-bold mb-6 text-center\">My Recipes</h2>\n            <ul className=\"space-y-4\">\n                {recipes.map(recipe => (\n                    <li key={recipe.id} className=\"p-6 bg-rose-200 shadow-md rounded-md border-rose-950 b_glow\">\n                        <h3 className=\"text-xl font-semibold mb-2\">Recipe Name: {recipe.name}</h3>\n                        <p className=\"text-slate-950 mb-4\"><b>DESCRIPTION:</b> {recipe.description}</p>\n                        <div className=\"flex space-x-4\">\n                            <Link \n                                to={`/edit_recipe/${username}/${recipe.id}`} \n                                className=\"bg-rose-950 text-white py-2 px-4 rounded hover:bg-rose-900 transition duration-200\"\n                            >\n                                Edit\n                            </Link>\n                            <button \n                                onClick={() => handleDeleteRecipe(recipe.id)} \n                                className=\"bg-rose-950 text-white py-2 px-4 rounded hover:bg-rose-900 transition duration-200\"\n                            >\n                                Delete Recipe\n                            </button>\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default MyRecipes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}